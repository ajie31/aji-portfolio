(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[496],{998:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/portfolio/f1_laptime",function(){return r(5385)}])},5385:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Q}});var n,i,a,o=r(5893),s=r(7948),c=r(541),l=r(6886),d=r(5861),u=r(7294),f=r(6042),x=r(9396),p=r(828),m=r(8588),h=function(e){(0,m.gyn)("https://gist.githubusercontent.com/ajie31/1eb7b91b8e16a072bcda1454e954dab1/raw/F1%2520lap%2520time%25202022.csv",(function(e){return e.raceId=+e.raceId,e.driverId=+e.driverId,e.lap=+e.lap,e.position=+e.position,e.milliseconds=+e.milliseconds,e})).then((function(t){e(t)}))},g=function(e){var t=new Map;(0,m.gyn)("https://gist.githubusercontent.com/ajie31/1eb7b91b8e16a072bcda1454e954dab1/raw/DriverId.csv",(function(e){return e.number=+e.number,e.driverId=+e.driverId,e})).then((function(r){r.map((function(e){return t.set(e.driverId,e)})),e(t)}))},v=function(e){(0,m.gyn)("https://gist.githubusercontent.com/ajie31/1eb7b91b8e16a072bcda1454e954dab1/raw/raceAndCircuit.csv",(function(e){return e.raceId=+e.raceId,e.year=+e.year,e.round=+e.round,e.circuitId=+e.circuitId,e})).then((function(t){var r=t.filter((function(e){return 2022===e.year}));e(r)}))},j=function(e){(0,m.gyn)("https://gist.githubusercontent.com/ajie31/1eb7b91b8e16a072bcda1454e954dab1/raw/pitStopData.csv",(function(e){return e.raceId=+e.raceId,e.driverId=+e.driverId,e.stop=+e.stop,e.lap=+e.lap,e.duration=+e.duration,e.milliseconds=+e.milliseconds,e})).then((function(t){e(t)}))},y=function(e){var t=new Map;(0,m.gyn)("https://gist.githubusercontent.com/ajie31/1eb7b91b8e16a072bcda1454e954dab1/raw/standing.csv",(function(e){return e.number=+e.number,e.driverId=+e.driverId,e.position=+e.position,e.raceId=+e.raceId,e.points=+e.points,e})).then((function(r){r.filter((function(e){return e.raceId===r[r.length-1].raceId})).map((function(e){return t.set(e.driverId,e)})),e(t)}))},S=r(4054),A=r(3841),k=r(8566),b=function(e){var t=e.handleSelectRace,r=e.circuit,n=e.selectedRace,i=e.lastRace;return(0,o.jsx)("div",{style:{minWidth:300},children:(0,o.jsxs)(S.Z,{fullWidth:!0,children:[(0,o.jsx)(A.Z,{variant:"standard",htmlFor:"uncontrolled-native",children:"Grand Prix"}),(0,o.jsx)(k.Z,{defaultValue:n,inputProps:{name:"Select Race",id:"Race-Menu"},onChange:t,children:r.map((function(e){return e.raceId<=i?(0,o.jsx)("option",{value:e.raceId,children:e.name},"GP-".concat(e.raceId)):(0,o.jsx)("option",{value:e.raceId,disabled:!0,children:e.name},"GP-".concat(e.raceId))}))})]})})},D=function(e){var t=e.Grid,r=e.lastRace,n=e.selectedRace,i=e.handleSelectRace,a=e.circuit;return(0,o.jsxs)(t,{xs:12,style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},item:!0,children:[(0,o.jsx)("h3",{className:"title",children:"Pencapaian Waktu Pada setiap Pembalap dalam Kompetisi F1"}),(0,o.jsx)(b,{handleSelectRace:i,circuit:a,selectedRace:n,lastRace:r}),(0,o.jsx)("p",{className:"description",style:{textAlign:"center"},children:"Pencapaian waktu akan diperlihatkan pada sebuah data visual sesuai dengan sirkuit balap yang dipilih"})]})},T=function(e){var t=e.id,r=e.code,n=e.surname;return(0,o.jsxs)("g",{className:"x-axis-code",children:[(0,o.jsx)("rect",{x:-20,y:-18,width:40,height:25,stroke:"#F5F3F2",strokeWidth:2,fill:"#635F5D",rx:"6"}),(0,o.jsx)("text",{y:0,x:0,textAnchor:"middle",fill:"#F5F3F2",fontSize:".9rem",children:r}),(0,o.jsx)("rect",{x:-30,y:-14,width:60,height:20,opacity:0,"data-id":t+"",children:(0,o.jsx)("title",{children:n})})]})},I=function(e){var t=e.markHeight,r=e.top;return(0,o.jsx)("line",{x1:0,y1:r,x2:0,y2:t,stroke:"#C1BAA9",strokeWidth:4.5,strokeLinecap:"round"})},F=function(e){var t=e.markHeight,r=e.top,n=e.xAxisCode,i=e.xAxisSurname,a=e.xAxisId,s=e.xAxisRef,c=e.allData;return(0,o.jsx)("g",{className:"x-axis-group",overflow:"auto",ref:s,children:c.map((function(e,s){return(0,o.jsxs)("g",{className:"x-axis-driver",children:[(0,o.jsx)(I,{markHeight:t,top:r}),(0,o.jsx)(T,{id:a(e),code:n(e),surname:i(e)})]},"driver"+s)}))})},R=function(e){var t=e.tick,r=e.left;return(0,o.jsxs)("g",{className:"y-axis-tick",children:[(0,o.jsx)("line",{x1:r,x2:80,stroke:"#C1BAA9",strokeWidth:2.7}),(0,o.jsx)("text",{x:r,dx:r+23,dy:"-.40em",fill:"#978F80",fontSize:"1rem",style:{textAnchor:"end",fontSize:".8rem"},children:t})]})},P=function(e){var t=e.left,r=e.markWidth;return(0,o.jsx)("line",{x1:t,x2:r,stroke:"#C1BAA9",strokeDasharray:3.2,strokeWidth:2.1})},w=function(e){var t=e.yAxisScale,r=e.left,n=e.markWidth;return(0,o.jsx)("g",{className:"lines-axis-group",overflow:"auto",children:t.ticks(10).map((function(e,i){return(0,o.jsxs)("g",{className:"x-axis-driver",transform:"translate(".concat(0,",").concat(t(e),")"),children:[(0,o.jsx)(P,{markWidth:n,left:r}),(0,o.jsx)(R,{left:r,tick:C(e)})]},"yAxisTick"+i)}))})},C=function(e){var t=parseInt(e%1e3/100),r=Math.floor(e/1e3%60),n=Math.floor(e/6e4%60),i=Math.floor(e/36e5%24);return i=i<10?"0"+i:i,(n=n<10?"0"+n:n)+":"+(r=r<10?"0"+r:r)+"."+t},W=function(e){var t=e.xAxisScale,r=e.markHeight,n=e.top,i=e.xAxisCode,a=e.xAxisSurname,s=e.xAxisId,c=e.yAxisScale,l=e.left,d=e.markWidth,u=e.isAddition,f=e.difference,x=e.xAxisRef,p=e.allData,m=e.initTransform;e.handleSelectDriverToShow;return(0,o.jsxs)("g",{className:"axis-g",children:[(0,o.jsx)(w,{left:l,yAxisScale:c,markWidth:d}),(0,o.jsx)(F,{markHeight:r,top:n,xAxisCode:i,xAxisId:s,xAxisSurname:a,xAxisScale:t,isAddition:u,difference:f,xAxisRef:x,allData:p,initTransform:m})]})},Z=function(e){e.xAxisScale;var t,r,n,i=e.yAxisScale,a=e.xAxisCode,s=e.xAxisId,c=e.yAxisValue,l=e.lapValue,d=e.allData,u=e.dataLapTime,f=e.pitStopData,x=e.maxLap,p=e.markProperties,m=e.markRef,h=function(e){var i=e.position!==t&&s(e)===n;return i&&(r=t),t=e.position,n=s(e),i},g=function(e){return x===l(e)},v=function(e,t){return e.length<x&&t===e.length-1};return(0,o.jsx)("g",{className:"mark-g",ref:m,children:d.map((function(e,t){return(0,o.jsx)("g",{id:"mark-".concat(a(e)),children:u.filter((function(t){return s(t)===s(e)})).map((function(t,n,a){return(0,o.jsx)(z,{isBoxBox:(l=t.raceId,d=s(e),u=t.lap,f.filter((function(e){return e.raceId===l&&e.driverId===d&&e.lap===u})).length>0),isRetire:v(a,n),isFinalPost:g,result:t,yAxisScale:i,yAxisValue:c,markProperties:p,isTakenOver:h(t),oldPositionText:r},"circle-"+n);var l,d,u}))},"mark-"+t)}))})},z=function(e){var t=e.isBoxBox,r=e.isRetire,n=e.isFinalPost,i=e.isTakenOver,a=e.result,s=e.yAxisScale,c=e.yAxisValue,l=e.markProperties,d=e.oldPositionText,u=n(a);return(0,o.jsxs)("g",{className:"circle-mark-g",transform:"translate(0,".concat(s(c(a)),")"),children:[(0,o.jsxs)("circle",{cx:0,cy:0,r:l.lapTime.rad,fill:l.lapTime.color,stroke:r?l.retire.color:t?l.pitStop.color:u?"#F5F3F2":i?l.positionChange.color:"none",strokeWidth:2,children:[(0,o.jsx)("title",{children:"Post: ".concat(a.position,", Lap: ").concat(a.lap,", ").concat(a.time)})," "]}),t||r||i||u?(0,o.jsxs)("g",{className:"special-mark",transform:"translate(".concat(2*l.retire.rad,",0)"),children:[(0,o.jsx)("path",{transform:"rotate(90) translate(-30,-25)",stroke:"#F5F3F2",strokeWidth:2,d:"M 30.876 12.687 Z Z Z M 15 21 C 15 12 21 6 30 6 C 38.913 6 45 12 45 21 S 30 42 30 42 S 15 30 15 21 Z",fill:r?l.retire.color:t?l.pitStop.color:u?l.lapTime.color:i?l.positionChange.color:null,children:(0,o.jsx)("title",{children:r?"retire, Lap: ".concat(a.lap+1):t?"Pit Stop, Lap: ".concat(a.lap,",Time: ").concat(a.time):u?"Finish Position : ".concat(a.position," Time : ").concat(a.time):i?"".concat(a.position<d?"Take Over":"Taken Over"," : from ").concat(d," to ").concat(a.position,", Lap: ").concat(a.lap,", ").concat(a.time):null})}),(0,o.jsx)("text",{x:4,y:u?4:5,textAnchor:"middle",fontSize:u?12:16,fontWeight:700,fill:"#F5F3F2",cursor:"default",pointerEvents:"none",children:r?"!":t?"P":u?"#".concat(a.position):i?"<>":null})]}):null]})},N=function(e){var t=e.top,r=e.right,n=e.markProperties,i=function(e){return e>0?2.8:n.pitStop.rad/2};return(0,o.jsxs)("g",{transform:"translate(".concat(r-10,",").concat(t,")"),className:"legendG",children:[(0,o.jsx)("rect",{x:0,y:0,width:160,height:184,fill:"white",stroke:"#635F5D",strokeWidth:2,rx:"6"}),(0,o.jsx)("g",{className:"markLegends",transform:"translate(".concat(10+n.pitStop.rad,",").concat(22,")"),children:Object.keys(n).map((function(e,t){return(0,o.jsxs)("g",{className:"legend",transform:"translate(0,".concat(n[e].rad*t*i(t),")"),children:[(0,o.jsx)("circle",{cx:0,cy:0,r:n[e].rad,fill:n[e].color}),(0,o.jsx)("text",{x:0,y:0,dx:n.pitStop.rad+10,dy:".37em",fill:"#635F5D",children:n[e].name})]},"legend".concat(t))}))})]})},M=22,L=22,B={top:22+M,bottom:2+2,right:122+12,left:22+L},_={lapTime:{rad:4.8,color:"#688BAB",name:"Lap Time"},positionChange:{rad:12,color:"#E6842A",name:"Position"},finishTime:{rad:12,color:"#688BAB",name:"Finish Lap"},pitStop:{rad:12,color:"#A0B700",name:"Pit Stop"},retire:{rad:12,color:"#E25A42",name:"Retire"}},E=function(e){var t=e.dataLapTime,r=e.pitStopData,s=(e.dataDriver,e.driverToShow,e.driverToRender),c=e.selectedDrivers,l=e.xAxisRef,d=e.markRef,f=(e.handleSelectDriverToShow,900-B.left-B.right),x=600-B.top-B.bottom,p=function(e){return e.code},h=function(e){return e.driverId},g=function(e){return e.milliseconds},v=function(e){return e.lap},j=c.isAddition,y=c.difference,S=!j&&i?i:s,A=(0,m.q2y)().domain(s.map(p)).range([B.left,f]).padding(1),k=(0,m.p2C)().domain((0,m.Wem)(t,g)).range([B.top,x]);a&&a!==t[0].raceId&&(n=A,i=s);var b=function(e){return y!==h(e)||j?"translate(".concat(A(p(e)),",").concat(M,")"):"translate(900,".concat(M,")")},D=function(e){return j&&h(e)===y?"translate(-100,".concat(M,")"):"translate(".concat(n(p(e)),",").concat(M,")")},T=function(e){return j&&h(e)===y?"translate(-100,".concat(0,")"):"translate(".concat(n(p(e)),",",0,")")},I=function(e){return y!==h(e)||j?"translate(".concat(A(p(e)),",",0,")"):"translate(900,".concat(0,")")},F=(0,m.Fp7)(t,v);return(0,u.useEffect)((function(){var e=(0,m.td_)(l.current.children).data(S).join("g").attr("transform",(function(e){return D(e)})),r=(0,m.td_)(d.current.children).data(S).join("g").attr("transform",(function(e){return T(e)}));e.transition().duration(400).attr("transform",(function(e){return b(e)})),r.transition().duration(400).attr("transform",(function(e){return I(e)})),a=t[0].raceId,n=A,i=s}),[s,A,n,i,I,b]),(0,o.jsx)("svg",{viewBox:"0 0 ".concat(900," ").concat(600),preserveAspectRatio:"xMinYMin",overflow:"scroll",children:(0,o.jsxs)("g",{className:"MainGroup",transform:"translate(".concat(L,",").concat(M,")"),children:[(0,o.jsx)(W,{driverToRender:s,markHeight:x-M,top:M,xAxisCode:p,xAxisId:h,xAxisSurname:function(e){return e.surname},xAxisScale:A,left:L,yAxisScale:k,markWidth:f,xAxisRef:l,allData:S,initTransform:D}),(0,o.jsx)(Z,{xAxisScale:A,yAxisScale:k,xAxisCode:p,xAxisId:h,yAxisValue:g,lapValue:v,isAddition:c.isAddition,difference:c.difference,driverToRender:s,dataLapTime:t,pitStopData:r,maxLap:F,markProperties:_,initTransform:T,allData:S,markRef:d}),(0,o.jsx)(N,{top:600-B.top-B.bottom-187,right:f,markProperties:_})]})})},G=r(3454),O=r(6420),V=function(e){var t=e.standing,r=e.surname,n=e.forename,i=e.points;return(0,o.jsxs)(l.ZP,{container:!0,children:[(0,o.jsx)(l.ZP,{xs:3,style:{display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"left",fontSize:"1.25rem",fontWeight:"bold"},item:!0,children:"#".concat(t)}),(0,o.jsxs)(l.ZP,{xs:6,style:{display:"flex",flexDirection:"column",textAlign:"left",justifyContent:"center"},item:!0,children:[(0,o.jsx)("span",{style:{fontSize:".7rem",fontWeight:"light"},children:n}),(0,o.jsx)("span",{style:{fontSize:".86rem",fontWeight:"bold"},children:r})]}),(0,o.jsxs)(l.ZP,{xs:3,style:{display:"flex",flexDirection:"column"},item:!0,children:[(0,o.jsx)("span",{style:{fontSize:".86rem",fontWeight:"light"},children:"".concat(i)}),(0,o.jsx)("span",{style:{fontSize:".7rem",fontWeight:"800",backgroundColor:"#635f5d",color:"white",borderRadius:"3px"},children:" pts"})]})]})},H=function(e){var t=e.recentDriverParticipants,r=e.handleSelectDriver,n=e.selectedDrivers;return(0,o.jsx)(G.Z,{value:n.drivers,onChange:r,"aria-label":"Driver Menu",title:"DriverMenu",children:t.map((function(e,t){return(0,o.jsx)(O.Z,{style:{width:"230px"},value:e.driverId,"aria-label":e.code,children:(0,o.jsx)(V,{standing:e.standing,surname:e.surname,forename:e.forename,points:e.points})},e.code+"driver"+t)}))})},X=function(e){var t=e.dataLapTime,r=e.dataDriver,n=e.pitStopData,i=e.driverToShow,a=e.recentDriverParticipants,s=e.Grid,c=e.selectedDrivers,l=e.handleSelectDriver,d=e.handleSelectDriverToShow,u=e.driverToRender,f=e.xAxisRef,x=e.markRef;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s,{item:!0,xs:12,style:{width:"85%",padding:0},children:(0,o.jsx)(E,{dataLapTime:t,dataDriver:r,driverToShow:i,driverToRender:u,selectedDrivers:c,pitStopData:n,xAxisRef:f,markRef:x,handleSelectDriverToShow:d})}),(0,o.jsxs)(s,{item:!0,xs:12,style:{maxWidth:"1250px",overflow:"auto",textAlign:"center",padding:0},children:[(0,o.jsx)("h3",{style:{margin:".5rem",color:"#635f5d"},children:"Driver Menu"}),(0,o.jsx)(H,{recentDriverParticipants:a,selectedDrivers:c,handleSelectDriver:l})]})]})},q=r(1596),K=r(1664),Y=r.n(K),J=function(){var e=(0,u.useState)(null),t=e[0],r=e[1],n=(0,u.useState)(null),i=n[0],a=n[1],m=(0,u.useState)(null),S=m[0],A=m[1],k=(0,u.useState)(null),b=k[0],T=k[1],I=(0,u.useState)({drivers:[],difference:null,isAddition:!1}),F=I[0],R=I[1],P=(0,u.useState)(1075),w=P[0],C=P[1],W=(0,u.useState)(null),Z=W[0],z=W[1],N=(0,u.useState)(null),M=N[0],L=N[1],B=(0,u.useRef)(null),_=(0,u.useRef)(null);if((0,u.useEffect)((function(){g(r),h(a),j(z),v(L),y(A)}),[g,h,j,r,a,z,v,L,A,y]),!t||!i||!Z||!M||!w||!S)return(0,o.jsx)("pre",{children:"Loading..."});var E=i.filter((function(e){return e.raceId===w})),G=function(e,t){return Array.from(e,(function(e){var r=(0,p.Z)(e,2),n=r[0],i=r[1];return(0,x.Z)((0,f.Z)({},t.get(n)),{points:i.points,standing:i.position})})).sort((function(e,t){return t.points-e.points}))}(S,t),O=i[i.length-1].raceId,V=F.drivers.map((function(e){return t.get(e)}));return(0,o.jsx)(s.Z,{maxWidth:"lg",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,o.jsx)(c.Z,{theme:q.l,children:(0,o.jsxs)(l.ZP,{container:!0,spacing:1,children:[(0,o.jsx)(D,{Grid:l.ZP,handleSelectRace:function(e){C(+e.target.value),R({drivers:[],difference:null,isAddition:!1})},circuit:M,selectedRace:w,lastRace:O}),(0,o.jsx)(X,{dataLapTime:E,dataDriver:t,driverToShow:b,recentDriverParticipants:G,Grid:l.ZP,selectedDrivers:F,handleSelectDriver:function(e,t){var r=F.drivers,n={drivers:t,difference:t.length>r.length?t[t.length-1]:r.filter((function(e){return!t.includes(e)}))[0],isAddition:!e.currentTarget.classList.contains("Mui-selected")};R(n)},handleSelectDriverToShow:function(e){var r=+e.target.dataset.id;T({standing:S.get(r),driver:t.get(r)})},driverToRender:V,pitStopData:Z,xAxisRef:B,markRef:_}),(0,o.jsx)(l.ZP,{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",margin:"1rem 0"},xs:12,item:!0,children:(0,o.jsxs)(d.Z,{variant:"captionSource",children:["data source :"," ",(0,o.jsx)(Y(),{href:"http://ergast.com/mrd/",children:(0,o.jsx)("a",{target:"_blank",children:"The Ergast"})})," ","Developer API F1 data provider that update every GP Race."]})})]})})})},Q=function(){return(0,o.jsx)(J,{})}},1596:function(e,t,r){"use strict";r.d(t,{S:function(){return a},l:function(){return o}});var n=r(5799),i=(0,n.Z)({palette:{background:{paper:"#fff"},text:{primary:"#635f5d",secondary:"#8e8883",third:"#C0C0BB"}}}),a=(0,n.Z)({breakpoints:{values:{xs:460,sm:600,md:900,lg:1200,xl:1536}}}),o=(0,n.Z)(i,{typography:{h1:{fontFamily:["Tinos","serif"].join(","),color:i.palette.text.primary,width:"100%",fontSize:"50px",padding:"1rem"},contentTitle:{display:"block",fontFamily:["Tinos","serif"].join(","),color:i.palette.text.primary,fontSize:"27px",marginBottom:"1rem"},tableTitle:{display:"block",fontFamily:["Tinos","serif"].join(","),color:i.palette.text.primary,fontSize:"27px",marginBottom:"1rem",textAlign:"center"},body1:{fontFamily:["Domine","serif"].join(","),color:i.palette.text.secondary,fontSize:"18px"},body2:{fontFamily:["Domine","serif"].join(","),color:i.palette.text.secondary,fontSize:"14px",fontWeight:"lighter"},body3:{fontFamily:["Domine","serif"].join(","),color:i.palette.text.secondary,fontSize:"14px"},subtitle2:{fontFamily:["Domine","serif"].join(","),fontSize:"14px",color:i.palette.text.secondary},subtitle3:{fontFamily:["Domine","serif"].join(","),color:i.palette.text.secondary,fontSize:"10px"},boldSubtitle:{fontFamily:["Domine","serif"].join(","),color:i.palette.text.primary,fontSize:"14px",fontWeight:700},boldCaption:{fontFamily:["Montserrat","sans-serif"].join(","),color:i.palette.text.secondary,fontSize:"12px",fontWeight:700},captionInfo:{fontFamily:["Montserrat","sans-serif"].join(","),color:i.palette.text.third,fontSize:"12px"},captionSource:{fontFamily:["Montserrat","sans-serif"].join(","),color:i.palette.text.third,fontSize:"12px",textAlign:"right"},captionTable:{fontFamily:["Montserrat","sans-serif"].join(","),color:i.palette.text.third,fontSize:"10px",textAlign:"right"}}})}},function(e){e.O(0,[478,416,212,122,829,774,888,179],(function(){return t=998,e(e.s=t);var t}));var t=e.O();_N_E=t}]);