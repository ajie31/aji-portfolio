(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[670],{8664:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/portfolio/ridgeline_incident",function(){return e(5462)}])},5462:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return b}});var r=e(5893),a=e(7948),i=e(6886),o=e(6919),s=e(8277),c=e(7294),u=e(9815),l=e(8588),f=function(n){n.title;var t=n.xScale,e=n.innerHeight,a=(n.formatDate,n.yOffset),i=n.fontSize,o=n.xOffset;return(0,r.jsx)("g",{transform:"translate(".concat(o,",").concat(e+a,")"),className:"x-label-group",children:t.domain().map((function(n,e){return(0,r.jsxs)("g",{className:"x-labels",transform:"translate(".concat(t(n),",0)"),children:[(0,r.jsx)("line",{x1:-13,x2:-13,y1:-20,y2:-24,stroke:"black",strokeWidth:.4}),(0,r.jsx)("text",{y:0,x:0,dx:-8,dy:-10,fontSize:i,textAnchor:"end",children:n},n)]},n+"-axis"+e)}))})},d=function(n){n.title;var t=n.yScale,e=n.right,a=n.fontSize;return(0,r.jsx)("g",{transform:"translate(0,0)",className:"y-label-group",children:(0,r.jsx)("g",{className:"y-labels",children:t.domain().map((function(n){return(0,r.jsx)("text",{fontSize:a,x:e,dy:t(n),textAnchor:"end",children:n},n)}))})})},h=function(n){var t=n.data,e=n.areaMark,a=n.lineMark,i=n.yScale,o=n.xOffset;return(0,r.jsxs)("g",{transform:"translate(".concat(o,",0)"),className:"area-mark-group",children:[(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{id:"myGradient",gradientTransform:"rotate(90)",children:[(0,r.jsx)("stop",{offset:"2%","stop-color":"black"}),(0,r.jsx)("stop",{offset:"85%","stop-color":"lightgrey"}),(0,r.jsx)("stop",{offset:"100%","stop-color":"white"})]})}),(0,r.jsx)("g",{className:"mars-group",children:i.domain().map((function(n,i){return(0,r.jsxs)("g",{children:[(0,r.jsx)("path",{className:"area_mark",pointerEvents:"none",fill:"url(#myGradient)",stroke:"none",d:e(t[n])},n+"-area"+i),(0,r.jsx)("path",{className:"area_mark",pointerEvents:"none",fill:"none",stroke:"black",strokeWidth:1.5,d:a(t[n])},n+"-line"+i+2)]},n+"-group"+i)}))})]})},x=50,m=20,p=65,g=230-x-20,j=".38rem",y=(0,l.i$Z)("%b"),k=["Utah","Pennsylvania","North Carolina","Arizona","Alabama","California","Kentucky","New York","Louisiana","Ohio","Wisconsin","Illinois","Nevada"],v={1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Okt",11:"Nov",12:"Dec"},N=function(n){var t=n.data,e=n.hours,a=[],i={},o=function(n){return v[n.month]},s=function(n){return n.month},c=function(n){return n.state},N=function(n){return n.count},_=t.filter((function(n){return k.includes(c(n))&&n.hour>=e[0]&&n.hour<=e[1]})),b=(0,u.Z)(new Set(_.map((function(n){return c(n)})))).sort(),S=(0,u.Z)(new Set(_.map((function(n){return o(n)})))),w=(0,l.jJk)(_,(function(n){return n.length}),c,o);b.map((function(n){S.map((function(t){a.push({state:n,month:t,count:isNaN(w.get(n).get(t))?0:w.get(n).get(t)})}))})),b.map((function(n){i[n]=i[n]?i[n]:a.filter((function(t){return c(t)==n}))}));var Z=(0,l.tiA)().domain(b).range([x,g]).paddingInner(.1),A=(0,l.tiA)().domain(S).range([p,550-m]),O=(0,l.BYU)().domain([0,(0,l.Fp7)(a,N)]).range([0,21]),M=(0,l.SOn)().curve(l.$0Z).x((function(n){return A(s(n))})).y0((function(n){return Z(c(n))})).y1((function(n){return Z(c(n))-O(N(n))})),E=(0,l.jvg)().curve(l.$0Z).x((function(n){return A(s(n))})).y((function(n){return Z(c(n))-O(N(n))}));return(0,r.jsxs)("svg",{viewBox:"0 0 ".concat(550," ").concat(230),preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)(d,{yScale:Z,yValue:c,fontSize:j,right:p}),(0,r.jsx)(f,{innerHeight:g,xScale:A,formatDate:y,yOffset:25,fontSize:j,xOffset:20}),(0,r.jsx)(h,{data:i,areaMark:M,lineMark:E,yScale:Z,xOffset:20/3})]})},_=function(){var n=function(){var n=(0,c.useState)(),t=n[0],e=n[1],r=function(n){return delete n[""],n.accident_id=+n.accident_id,n.time=Date.parse(n.time),n.latitude=+n.latitude,n.longitude=+n.longitude,n.month=+n.month,n.hour=+n.hour,n.day=+n.day,n.speed=+n.speed,n};return(0,c.useEffect)((function(){(0,l.gyn)("https://gist.githubusercontent.com/ajie31/4bd3c11af2a2ae09acf82f0601c35f85/raw/e0fda5bda3c36733d78085564e7f5db8de0a14df/accident_usa_2016.csv",r).then((function(n){var t=n.sort((function(n,t){return n.time-t.time}));e(t)}))}),[]),t}();if(!n)return(0,r.jsx)("pre",{children:"Loading Data ..."});return(0,r.jsx)(a.Z,{children:(0,r.jsxs)(i.ZP,{container:!0,children:[(0,r.jsxs)(i.ZP,{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},xs:12,item:!0,children:[(0,r.jsxs)("h1",{children:[" ","Jumlah Kecelakaan Setiap Bulan"," "]}),(0,r.jsx)(o.Z,{style:{width:"300px"},children:(0,r.jsx)(s.ZP,{getAriaLabel:function(){return"Hours"},value:hour,onChange:function(n,t){setHour(t)},marks:hourMarks,valueLabelDisplay:"auto",getAriaValueText:function(n){return"".concat(n)},max:24,min:1})})]}),(0,r.jsx)(i.ZP,{xs:12,item:!0,children:(0,r.jsx)(N,{data:n,hours:hour})}),(0,r.jsx)(i.ZP,{item:!0})]})})},b=function(){return(0,r.jsx)(_,{})}}},function(n){n.O(0,[478,416,725,774,888,179],(function(){return t=8664,n(n.s=t);var t}));var t=n.O();_N_E=t}]);