(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[670],{3673:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/portfolio/ridgeline_incident",function(){return e(5462)}])},5462:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return N}});var r=e(5893),a=e(7948),i=e(6886),o=e(7357),s=e(6201),c=e(7294),u=e(8588),l=function(n){n.title;var t=n.xScale,e=n.innerHeight,a=(n.formatDate,n.yOffset),i=n.fontSize,o=n.xOffset;return(0,r.jsx)("g",{transform:"translate(".concat(o,",").concat(e+a,")"),className:"x-label-group",children:t.domain().map((function(n,e){return(0,r.jsxs)("g",{className:"x-labels",transform:"translate(".concat(t(n),",0)"),children:[(0,r.jsx)("line",{x1:-13,x2:-13,y1:-20,y2:-24,stroke:"black",strokeWidth:.4}),(0,r.jsx)("text",{y:0,x:0,dx:-8,dy:-10,fontSize:i,textAnchor:"end",children:n},n)]},n+"-axis"+e)}))})},f=function(n){n.title;var t=n.yScale,e=n.right,a=n.fontSize;return(0,r.jsx)("g",{transform:"translate(0,0)",className:"y-label-group",children:(0,r.jsx)("g",{className:"y-labels",children:t.domain().map((function(n){return(0,r.jsx)("text",{fontSize:a,x:e,dy:t(n),textAnchor:"end",children:n},n)}))})})},d=function(n){var t=n.data,e=n.areaMark,a=n.lineMark,i=n.yScale,o=n.xOffset;return(0,r.jsxs)("g",{transform:"translate(".concat(o,",0)"),className:"area-mark-group",children:[(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{id:"myGradient",gradientTransform:"rotate(90)",children:[(0,r.jsx)("stop",{offset:"2%","stop-color":"black"}),(0,r.jsx)("stop",{offset:"85%","stop-color":"lightgrey"}),(0,r.jsx)("stop",{offset:"100%","stop-color":"white"})]})}),(0,r.jsx)("g",{className:"mars-group",children:i.domain().map((function(n,i){return(0,r.jsxs)("g",{children:[(0,r.jsx)("path",{className:"area_mark",pointerEvents:"none",fill:"url(#myGradient)",stroke:"none",d:e(t[n])},n+"-area"+i),(0,r.jsx)("path",{className:"area_mark",pointerEvents:"none",fill:"none",stroke:"black",strokeWidth:1.5,d:a(t[n])},n+"-line"+i+2)]})}))})]})};function h(n){return function(n){if(Array.isArray(n)){for(var t=0,e=new Array(n.length);t<n.length;t++)e[t]=n[t];return e}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var m=50,x=20,p=65,g=230-m-20,j=".38rem",y=(0,u.i$Z)("%b"),v=["Utah","Pennsylvania","North Carolina","Arizona","Alabama","California","Kentucky","New York","Louisiana","Ohio","Wisconsin","Illinois","Nevada"],b={1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Okt",11:"Nov",12:"Dec"},k=function(n){var t=n.data,e=n.hours,a=[],i={},o=function(n){return b[n.month]},s=function(n){return n.month},c=function(n){return n.state},k=function(n){return n.count},S=t.filter((function(n){return v.includes(c(n))&&n.hour>=e[0]&&n.hour<=e[1]})),w=h(new Set(S.map((function(n){return c(n)})))).sort(),N=h(new Set(S.map((function(n){return o(n)})))),_=(0,u.jJk)(S,(function(n){return n.length}),c,o);w.map((function(n){N.map((function(t){a.push({state:n,month:t,count:isNaN(_.get(n).get(t))?0:_.get(n).get(t)})}))})),w.map((function(n){i[n]=i[n]?i[n]:a.filter((function(t){return c(t)==n}))}));var A=(0,u.tiA)().domain(w).range([m,g]).paddingInner(.1),O=(0,u.tiA)().domain(N).range([p,550-x]),M=(0,u.BYU)().domain([0,(0,u.Fp7)(a,k)]).range([0,21]),P=(0,u.SOn)().curve(u.$0Z).x((function(n){return O(s(n))})).y0((function(n){return A(c(n))})).y1((function(n){return A(c(n))-M(k(n))})),Z=(0,u.jvg)().curve(u.$0Z).x((function(n){return O(s(n))})).y((function(n){return A(c(n))-M(k(n))}));return(0,r.jsxs)("svg",{viewBox:"0 0 ".concat(550," ").concat(230),preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)(f,{yScale:A,yValue:c,fontSize:j,right:p}),(0,r.jsx)(l,{innerHeight:g,xScale:O,formatDate:y,yOffset:25,fontSize:j,xOffset:20}),(0,r.jsx)(d,{data:i,areaMark:P,lineMark:Z,yScale:A,xOffset:20/3})]})},S=[{value:6,label:"6 AM"},{value:12,label:"12 PM"},{value:18,label:"6 PM"}],w=function(){var n=function(){var n=(0,c.useState)(),t=n[0],e=n[1],r=function(n){return delete n[""],n.accident_id=+n.accident_id,n.time=Date.parse(n.time),n.latitude=+n.latitude,n.longitude=+n.longitude,n.month=+n.month,n.hour=+n.hour,n.day=+n.day,n.speed=+n.speed,n};return(0,c.useEffect)((function(){(0,u.gyn)("https://gist.githubusercontent.com/ajie31/4bd3c11af2a2ae09acf82f0601c35f85/raw/e0fda5bda3c36733d78085564e7f5db8de0a14df/accident_usa_2016.csv",r).then((function(n){var t=n.sort((function(n,t){return n.time-t.time}));e(t)}))}),[]),t}(),t=(0,c.useState)([1,24]),e=t[0],l=t[1];if(!n)return(0,r.jsx)("pre",{children:"Loading Data ..."});return(0,r.jsx)(a.Z,{children:(0,r.jsxs)(i.ZP,{container:!0,children:[(0,r.jsxs)(i.ZP,{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},xs:12,item:!0,children:[(0,r.jsxs)("h1",{children:[" ","Jumlah Kecelakaan Setiap Bulan"," "]}),(0,r.jsx)(o.Z,{style:{width:"300px"},children:(0,r.jsx)(s.ZP,{getAriaLabel:function(){return"Hours"},value:e,onChange:function(n,t){l(t)},marks:S,valueLabelDisplay:"auto",getAriaValueText:function(n){return"".concat(n)},max:24,min:1})})]}),(0,r.jsx)(i.ZP,{xs:12,item:!0,children:(0,r.jsx)(k,{data:n,hours:e})}),(0,r.jsx)(i.ZP,{item:!0})]})})},N=function(){return(0,r.jsx)(w,{})}}},function(n){n.O(0,[197,328,118,774,888,179],(function(){return t=3673,n(n.s=t);var t}));var t=n.O();_N_E=t}]);